<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/frontend/src/components/organizador/eventos/ModalEditarEvento.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/frontend/src/components/organizador/eventos/ModalEditarEvento.tsx" />
              <option name="originalContent" value="import React, { useEffect, useState } from &quot;react&quot;;&#10;import { X } from &quot;lucide-react&quot;;&#10;import type { NuevoEventoForm } from &quot;./ModalCrearEvento&quot;;&#10;&#10;interface ModalEditarEventoProps {&#10;  open: boolean;&#10;  onClose: () =&gt; void;&#10;  initialData: NuevoEventoForm | null;&#10;  onSave: (data: NuevoEventoForm) =&gt; void;&#10;}&#10;&#10;const ModalEditarEvento: React.FC&lt;ModalEditarEventoProps&gt; = ({ open, onClose, initialData, onSave }) =&gt; {&#10;  const [form, setForm] = useState&lt;NuevoEventoForm&gt;(&#10;    initialData || {&#10;      nombre: &quot;&quot;,&#10;      descripcion: &quot;&quot;,&#10;      fecha: &quot;&quot;,&#10;      hora: &quot;&quot;,&#10;      lugar: &quot;&quot;,&#10;      estado: &quot;Borrador&quot;,&#10;      imagen: null,&#10;    }&#10;  );&#10;  const [touchedSubmit, setTouchedSubmit] = useState(false);&#10;&#10;  useEffect(() =&gt; {&#10;    if (open &amp;&amp; initialData) {&#10;      setForm({ ...initialData });&#10;      setTouchedSubmit(false);&#10;    }&#10;  }, [open, initialData]);&#10;&#10;  if (!open || !initialData) return null;&#10;&#10;  const onChangeText = (&#10;    e: React.ChangeEvent&lt;HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement&gt;&#10;  ) =&gt; {&#10;    const { name, value } = e.target;&#10;    setForm((prev) =&gt; ({ ...prev, [name]: value }));&#10;  };&#10;&#10;  const onChangeFile = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;    const file = e.target.files &amp;&amp; e.target.files[0] ? e.target.files[0] : null;&#10;    setForm((prev) =&gt; ({ ...prev, imagen: file }));&#10;  };&#10;&#10;  const handleGuardar = () =&gt; {&#10;    setTouchedSubmit(true);&#10;    // En edición: nombre, descripcion, fecha y hora obligatorios&#10;    if (!form.nombre.trim() || !form.descripcion.trim() || !form.fecha || !form.hora) return;&#10;    onSave(form);&#10;  };&#10;&#10;  const nombreError = touchedSubmit &amp;&amp; !form.nombre.trim();&#10;  const descripcionError = touchedSubmit &amp;&amp; !form.descripcion.trim();&#10;  const fechaError = touchedSubmit &amp;&amp; !form.fecha;&#10;  const horaError = touchedSubmit &amp;&amp; !form.hora;&#10;&#10;  return (&#10;    &lt;div className=&quot;fixed inset-0 bg-black/50 z-50 flex items-start justify-center&quot; onClick={onClose}&gt;&#10;      &lt;div className=&quot;mx-auto my-10 bg-white rounded-lg shadow-lg p-6 w-full max-w-lg&quot; onClick={(e) =&gt; e.stopPropagation()}&gt;&#10;        {/* Header */}&#10;        &lt;div className=&quot;mb-2&quot;&gt;&#10;          &lt;div className=&quot;flex items-start justify-between&quot;&gt;&#10;            &lt;h3 className=&quot;text-lg font-semibold text-gray-900&quot;&gt;Editar evento&lt;/h3&gt;&#10;            &lt;button type=&quot;button&quot; onClick={onClose} className=&quot;text-gray-500 hover:text-gray-700&quot; aria-label=&quot;Cerrar&quot;&gt;&#10;              &lt;X className=&quot;h-5 w-5&quot; /&gt;&#10;            &lt;/button&gt;&#10;          &lt;/div&gt;&#10;          &lt;p className=&quot;text-sm text-gray-600 mt-1&quot;&gt;&#10;            Completa la información del evento. Puedes guardarlo como borrador o publicarlo directamente.&#10;          &lt;/p&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Form */}&#10;        &lt;div className=&quot;space-y-4 max-h-[75vh] overflow-y-auto pr-1&quot;&gt;&#10;          {/* Nombre del evento */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;&#10;              Nombre del evento&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&#10;            &lt;/label&gt;&#10;            &lt;input&#10;              type=&quot;text&quot;&#10;              name=&quot;nombre&quot;&#10;              value={form.nombre}&#10;              onChange={onChangeText}&#10;              className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                nombreError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;              }`}&#10;            /&gt;&#10;            {nombreError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;          &lt;/div&gt;&#10;&#10;          {/* Descripción */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;&#10;              Descripción&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&#10;            &lt;/label&gt;&#10;            &lt;textarea&#10;              name=&quot;descripcion&quot;&#10;              value={form.descripcion}&#10;              onChange={onChangeText}&#10;              rows={4}&#10;              className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                descripcionError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;              }`}&#10;            /&gt;&#10;            {descripcionError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;          &lt;/div&gt;&#10;&#10;          {/* Fecha y Hora */}&#10;          &lt;div className=&quot;grid grid-cols-1 sm:grid-cols-2 gap-4&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Fecha&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&lt;/label&gt;&#10;              &lt;input&#10;                type=&quot;date&quot;&#10;                name=&quot;fecha&quot;&#10;                value={form.fecha}&#10;                onChange={onChangeText}&#10;                className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                  fechaError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;                }`}&#10;              /&gt;&#10;              {fechaError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;            &lt;/div&gt;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Hora&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&lt;/label&gt;&#10;              &lt;input&#10;                type=&quot;time&quot;&#10;                name=&quot;hora&quot;&#10;                value={form.hora}&#10;                onChange={onChangeText}&#10;                className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                  horaError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;                }`}&#10;              /&gt;&#10;              {horaError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Lugar */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Lugar&lt;/label&gt;&#10;            &lt;input&#10;              type=&quot;text&quot;&#10;              name=&quot;lugar&quot;&#10;              value={form.lugar}&#10;              onChange={onChangeText}&#10;              placeholder=&quot;Ej: Teatro Nacional&quot;&#10;              className=&quot;w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500&quot;&#10;            /&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Estado */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Estado&lt;/label&gt;&#10;            &lt;select&#10;              name=&quot;estado&quot;&#10;              value={form.estado}&#10;              onChange={onChangeText}&#10;              className=&quot;w-full border border-gray-300 rounded-md px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-amber-500&quot;&#10;            &gt;&#10;              &lt;option value=&quot;Borrador&quot;&gt;Borrador&lt;/option&gt;&#10;              &lt;option value=&quot;Publicado&quot;&gt;Publicado&lt;/option&gt;&#10;              &lt;option value=&quot;En revisión&quot;&gt;En revisión&lt;/option&gt;&#10;            &lt;/select&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Imagen */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Imagen de portada del evento&lt;/label&gt;&#10;            &lt;input&#10;              type=&quot;file&quot;&#10;              name=&quot;imagen&quot;&#10;              accept=&quot;image/*&quot;&#10;              onChange={onChangeFile}&#10;              className=&quot;block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-3 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-gray-100 file:text-gray-700 hover:file:bg-gray-200&quot;&#10;            /&gt;&#10;            &lt;p className=&quot;mt-1 text-xs text-gray-500&quot;&gt;Tamaño recomendado: 1200 × 600 px. Se mostrará en la vista pública del evento.&lt;/p&gt;&#10;            {form.imagen &amp;&amp; (&#10;              &lt;p className=&quot;mt-1 text-xs text-gray-600&quot;&gt;Archivo seleccionado: {form.imagen.name}&lt;/p&gt;&#10;            )}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Acciones */}&#10;        &lt;div className=&quot;mt-6 flex items-center justify-end gap-3&quot;&gt;&#10;          &lt;button&#10;            type=&quot;button&quot;&#10;            onClick={onClose}&#10;            className=&quot;bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-md&quot;&#10;          &gt;&#10;            Cancelar&#10;          &lt;/button&gt;&#10;          &lt;button&#10;            type=&quot;button&quot;&#10;            onClick={handleGuardar}&#10;            className=&quot;bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-md&quot;&#10;          &gt;&#10;            Guardar cambios&#10;          &lt;/button&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default ModalEditarEvento;&#10;&#10;" />
              <option name="updatedContent" value="import React, { useEffect, useState } from &quot;react&quot;;&#10;import { X } from &quot;lucide-react&quot;;&#10;import type { NuevoEventoForm } from &quot;./ModalCrearEvento&quot;;&#10;&#10;interface ModalEditarEventoProps {&#10;  open: boolean;&#10;  onClose: () =&gt; void;&#10;  initialData: NuevoEventoForm | null;&#10;  onSave: (data: NuevoEventoForm) =&gt; void;&#10;}&#10;&#10;const ModalEditarEvento: React.FC&lt;ModalEditarEventoProps&gt; = ({ open, onClose, initialData, onSave }) =&gt; {&#10;  const [form, setForm] = useState&lt;NuevoEventoForm&gt;(&#10;    initialData || {&#10;      nombre: &quot;&quot;,&#10;      descripcion: &quot;&quot;,&#10;      fecha: &quot;&quot;,&#10;      hora: &quot;&quot;,&#10;      lugar: &quot;&quot;,&#10;      estado: &quot;Borrador&quot;,&#10;      imagen: null,&#10;    }&#10;  );&#10;  const [touchedSubmit, setTouchedSubmit] = useState(false);&#10;&#10;  useEffect(() =&gt; {&#10;    if (open &amp;&amp; initialData) {&#10;      setForm({ ...initialData });&#10;      setTouchedSubmit(false);&#10;    }&#10;  }, [open, initialData]);&#10;&#10;  if (!open || !initialData) return null;&#10;&#10;  const onChangeText = (&#10;    e: React.ChangeEvent&lt;HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement&gt;&#10;  ) =&gt; {&#10;    const { name, value } = e.target;&#10;    setForm((prev) =&gt; ({ ...prev, [name]: value }));&#10;  };&#10;&#10;  const onChangeFile = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;    const file = e.target.files &amp;&amp; e.target.files[0] ? e.target.files[0] : null;&#10;    setForm((prev) =&gt; ({ ...prev, imagen: file }));&#10;  };&#10;&#10;  const handleGuardar = () =&gt; {&#10;    setTouchedSubmit(true);&#10;    // En edición: nombre, descripcion, fecha y hora obligatorios&#10;    if (!form.nombre.trim() || !form.descripcion.trim() || !form.fecha || !form.hora) return;&#10;    onSave(form);&#10;  };&#10;&#10;  const nombreError = touchedSubmit &amp;&amp; !form.nombre.trim();&#10;  const descripcionError = touchedSubmit &amp;&amp; !form.descripcion.trim();&#10;  const fechaError = touchedSubmit &amp;&amp; !form.fecha;&#10;  const horaError = touchedSubmit &amp;&amp; !form.hora;&#10;&#10;  return (&#10;    &lt;div className=&quot;fixed inset-0 bg-black/50 z-50 flex items-start justify-center&quot; onClick={onClose}&gt;&#10;      &lt;div className=&quot;mx-auto my-10 bg-white rounded-lg shadow-lg p-6 w-full max-w-lg&quot; onClick={(e) =&gt; e.stopPropagation()}&gt;&#10;        {/* Header */}&#10;        &lt;div className=&quot;mb-2&quot;&gt;&#10;          &lt;div className=&quot;flex items-start justify-between&quot;&gt;&#10;            &lt;h3 className=&quot;text-lg font-semibold text-gray-900&quot;&gt;Editar evento&lt;/h3&gt;&#10;            &lt;button type=&quot;button&quot; onClick={onClose} className=&quot;text-gray-500 hover:text-gray-700&quot; aria-label=&quot;Cerrar&quot;&gt;&#10;              &lt;X className=&quot;h-5 w-5&quot; /&gt;&#10;            &lt;/button&gt;&#10;          &lt;/div&gt;&#10;          &lt;p className=&quot;text-sm text-gray-600 mt-1&quot;&gt;&#10;            Completa la información del evento. Puedes guardarlo como borrador o publicarlo directamente.&#10;          &lt;/p&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Form */}&#10;        &lt;div className=&quot;space-y-4 max-h-[75vh] overflow-y-auto pr-1&quot;&gt;&#10;          {/* Nombre del evento */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;&#10;              Nombre del evento&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&#10;            &lt;/label&gt;&#10;            &lt;input&#10;              type=&quot;text&quot;&#10;              name=&quot;nombre&quot;&#10;              value={form.nombre}&#10;              onChange={onChangeText}&#10;              className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                nombreError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;              }`}&#10;            /&gt;&#10;            {nombreError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;          &lt;/div&gt;&#10;&#10;          {/* Descripción */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;&#10;              Descripción&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&#10;            &lt;/label&gt;&#10;            &lt;textarea&#10;              name=&quot;descripcion&quot;&#10;              value={form.descripcion}&#10;              onChange={onChangeText}&#10;              rows={4}&#10;              className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                descripcionError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;              }`}&#10;            /&gt;&#10;            {descripcionError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;          &lt;/div&gt;&#10;&#10;          {/* Fecha y Hora */}&#10;          &lt;div className=&quot;grid grid-cols-1 sm:grid-cols-2 gap-4&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Fecha&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&lt;/label&gt;&#10;              &lt;input&#10;                type=&quot;date&quot;&#10;                name=&quot;fecha&quot;&#10;                value={form.fecha}&#10;                onChange={onChangeText}&#10;                className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                  fechaError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;                }`}&#10;              /&gt;&#10;              {fechaError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;            &lt;/div&gt;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Hora&lt;span className=&quot;text-red-500&quot;&gt; *&lt;/span&gt;&lt;/label&gt;&#10;              &lt;input&#10;                type=&quot;time&quot;&#10;                name=&quot;hora&quot;&#10;                value={form.hora}&#10;                onChange={onChangeText}&#10;                className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 ${&#10;                  horaError ? &quot;border-red-500&quot; : &quot;border-gray-300&quot;&#10;                }`}&#10;              /&gt;&#10;              {horaError &amp;&amp; &lt;p className=&quot;mt-1 text-xs text-red-600&quot;&gt;Este campo es obligatorio.&lt;/p&gt;}&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Lugar */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Lugar&lt;/label&gt;&#10;            &lt;input&#10;              type=&quot;text&quot;&#10;              name=&quot;lugar&quot;&#10;              value={form.lugar}&#10;              onChange={onChangeText}&#10;              placeholder=&quot;Ej: Teatro Nacional&quot;&#10;              className=&quot;w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500&quot;&#10;            /&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Estado */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Estado&lt;/label&gt;&#10;            &lt;select&#10;              name=&quot;estado&quot;&#10;              value={form.estado}&#10;              onChange={onChangeText}&#10;              className=&quot;w-full border border-gray-300 rounded-md px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-amber-500&quot;&#10;            &gt;&#10;              &lt;option value=&quot;Borrador&quot;&gt;Borrador&lt;/option&gt;&#10;              &lt;option value=&quot;Publicado&quot;&gt;Publicado&lt;/option&gt;&#10;              &lt;option value=&quot;En revisión&quot;&gt;En revisión&lt;/option&gt;&#10;            &lt;/select&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Imagen */}&#10;          &lt;div&gt;&#10;            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;Imagen de portada del evento&lt;/label&gt;&#10;            &lt;input&#10;              type=&quot;file&quot;&#10;              name=&quot;imagen&quot;&#10;              accept=&quot;image/*&quot;&#10;              onChange={onChangeFile}&#10;              className=&quot;block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-3 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-gray-100 file:text-gray-700 hover:file:bg-gray-200&quot;&#10;            /&gt;&#10;            &lt;p className=&quot;mt-1 text-xs text-gray-500&quot;&gt;Tamaño recomendado: 1200 × 600 px. Se mostrará en la vista pública del evento.&lt;/p&gt;&#10;            {form.imagen &amp;&amp; (&#10;              &lt;p className=&quot;mt-1 text-xs text-gray-600&quot;&gt;Archivo seleccionado: {form.imagen.name}&lt;/p&gt;&#10;            )}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Acciones */}&#10;        &lt;div className=&quot;mt-6 flex items-center justify-end gap-3&quot;&gt;&#10;          &lt;button&#10;            type=&quot;button&quot;&#10;            onClick={onClose}&#10;            className=&quot;bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-md&quot;&#10;          &gt;&#10;            Cancelar&#10;          &lt;/button&gt;&#10;          &lt;button&#10;            type=&quot;button&quot;&#10;            onClick={handleGuardar}&#10;            className=&quot;bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-md&quot;&#10;          &gt;&#10;            Guardar cambios&#10;          &lt;/button&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default ModalEditarEvento;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>